<html>

<head>
	<script src = "scripts/angular.js"> </script>
</head>

<body ng-app="myapp">
	var loading_flag = "true";
	<div ng-controller="UserController" >
		<table style="width: 400px" border="1">
			<tr ng-repeat="u in users">
				<td>{{u.name}} </td>
				<td>{{u.age}} </td>
			</tr>
		</table>
		showing {{users.length}} users
	</div>
	
	<div id="gif_image" ng-show= loading_flag>
		<img src="images/loading.gif" alt="Mountain View" style="width:304px;height:228px;">
	</div>
	

	
	<script>
	angular.module("myapp",[])
		.controller("UserController", function($http, $log, $scope){
			/*
			$scope.users = {};
			$scope.users[0] = {name:"Thangs", age:20};
			$scope.users[1] = {name:"Rasu", age:21};
			*/
			var promise = $http.get("rest/user");
			console.log(promise);
			promise.success(function(data, status, headers, config){
				/* alert( data); */
				$scope.users = data;
				/*
				for(index in data){
					$scope.users[index] = {name:data[index].name, age:10}
				}
				
				$log.log("log message");
				$log.warn("warning message");
				$log.info("info message");
				$log.error("error message");
				*/
				loading_flag = "false";

			});
			promise.error(function(data,status, headers, config){
				alert("Failure");
			});
			
		});
	</script>

</body>
</html>
